<!-- ========================================== -->
<!-- RULES PAGE -->
<!-- ========================================== -->

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vibe Rules</title>
<script type="module">
  // -------------------------------
  // 1️⃣ IMPORT FIREBASE
  // -------------------------------
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

  // -------------------------------
  // 2️⃣ FIREBASE CONFIG (Paste yours)
  // -------------------------------
  const firebaseConfig = {
      apiKey: "AIzaSyDsqaoDlN8-XyHCsGrhaHQkMQBiEwmgk8o",
      authDomain: "vibez-7c71e.firebaseapp.com",
      projectId: "vibez-7c71e",
      storageBucket: "vibez-7c71e.appspot.com",
      messagingSenderId: "544032234117",
      appId: "1:544032234117:web:9200a924e920c99221e7ec",
      measurementId: "G-DQ4GMVLTL7"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // -------------------------------
  // 3️⃣ LOAD RULES FUNCTION
  // -------------------------------
  async function loadRules() {
      const titleEl = document.getElementById('rulesTitle');
      const contentEl = document.getElementById('rulesContent');

      try {
          const rulesDoc = await getDoc(doc(db, 'settings', 'rules'));
          if (rulesDoc.exists()) {
              const data = rulesDoc.data();
              titleEl.textContent = data.title || 'Rules';
              contentEl.innerHTML = data.content || '<p>No rules found.</p>';
          } else {
              titleEl.textContent = 'Rules';
              contentEl.innerHTML = '<p>No rules found.</p>';
          }
      } catch (err) {
          console.error('Error loading rules:', err);
          titleEl.textContent = 'Rules';
          contentEl.innerHTML = '<p>Failed to load rules. Try again later.</p>';
      }
  }

  document.addEventListener('DOMContentLoaded', loadRules);
</script>
<style>
  body { font-family: Arial, sans-serif; background-color: #111; color: #fff; padding: 2rem; }
  h1 { font-size: 2rem; margin-bottom: 1rem; color: #8B5CF6; }
  #rulesContent p { margin-bottom: 1rem; line-height: 1.5; }
</style>
</head>
<body>
  <h1 id="rulesTitle">Loading Rules...</h1>
  <div id="rulesContent"></div>
</body>
</html>
